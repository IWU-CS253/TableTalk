{% extends "layout.html" %}

{% block content %}
<h2 class="mb-4 text-success" style="text-align: left"><strong>{{ recipe.title }}</strong></h2>
<p>Cooked by <strong>{{ recipe.username }}</strong></p>
    <main>
        <article class="recipe-detail">
            <! Editing out for right now because we are not enabling recipe images yet>
            <!--<img src="https://via.placeholder.com/400x250" alt="Recipe image">-->

            <! List all the ingredients>
            <section class="ingredients">
                <h3><strong>Ingredients</strong></h3>
                <ul>
                    {% if ingredients %}
                    <ul>
                        {% for ingredient in ingredients %}
                            <li>{{ ingredient }}</li>
                        {% endfor %}
                    </ul>
                    {% else %}
                        No Ingredients Listed
                    {% endif %}
                </ul>
            </section>

            <! List all needed appliances>
            <section class="appliances">
                <h3><strong>Appliances Needed</strong></h3>
                <ul>
                    {% if appliances %}
                    <ul>
                        {% for appliance in appliances %}
                            <li>{{ appliance }}</li>
                        {% endfor %}
                    </ul>
                    {% else %}
                        No Appliances Listed
                    {% endif %}
                </ul>
            </section>

            <! Recipe Instructions>
            <section class="instructions">
                <h3><strong>Instructions</strong></h3>
                <ol>
                    {% for step in instructions %}
                        <li>{{ step }}</li>
                    {% endfor %}
                </ol>
            </section>

            <! Comments Section >
            <section class="comments">
                <h3>Comments</h3>
                {% if comments %}
                    <ul>
                        {% for c in comments %}
                            <li>{{ c }}</li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>No comments yet</p>
                {% endif %}

                <!-- Comment form (optional: only enable if route exists) -->
                {#
                <form method="POST" action="{{ url_for('add_comment', recipe_id=recipe.id) }}">
                    <label for="comment">Add a comment</label>
                    <textarea id="comment" name="comment" placeholder="Add a comment..."></textarea>
                    <button type="submit">Post Submit</button>
                </form>
                #}
            </section>
        </article>
    </main>

    <footer>
        <p>&copy; 2025 TableTalk</p>
    </footer>
{% endblock %}