{% extends "layout.html" %}

{% block content %}
    <header>
        <h1>TableTalk</h1>
        <nav>
            <a href="{{ url_for('show_feed') }}">Home</a>
            <a href="{{ url_for('show_feed') }}">All Recipes</a>
            <a href="{{ url_for('profile', user_id=recipe.user_id) }}">Profile</a>
        </nav>
    </header>

    <main>
        <article class="recipe-detail">
            <h2>{{ recipe.title }}</h2>
            <p>By <strong>{{ recipe.username }}</strong></p>

            <img src="https://via.placeholder.com/400x250" alt="Recipe image">

            <!-- Ingredients section -->
            <section class="ingredients">
                <h3>Ingredients</h3>
                <ul>
                    {% for ingredient in ingredients %}
                        <li>{{ ingredient }}</li>
                    {% endfor %}
                </ul>
            </section>

            <!-- Instructions section -->
            <section class="instructions">
                <h3>Instructions</h3>
                <ol>
                    {% for step in instructions %}
                        <li>{{ step }}</li>
                    {% endfor %}
                </ol>
            </section>

            <!-- Comments section -->
            <section class="comments">
                <h3>Comments</h3>
                {% if comments %}
                    <ul>
                        {% for c in comments %}
                            <li>{{ c }}</li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>No comments yet</p>
                {% endif %}

                <!-- Comment form (optional: only enable if route exists) -->
                {#
                <form method="POST" action="{{ url_for('add_comment', recipe_id=recipe.id) }}">
                    <label for="comment">Add a comment</label>
                    <textarea id="comment" name="comment" placeholder="Add a comment..."></textarea>
                    <button type="submit">Post Submit</button>
                </form>
                #}
            </section>
        </article>
    </main>

    <footer>
        <p>&copy; 2025 TableTalk</p>
    </footer>
{% endblock %}